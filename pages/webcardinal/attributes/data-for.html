<head>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != "dataLayer" ? "&l=" + l : "";
            j.async = true;
            j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, "script", "dataLayer", "GTM-NW4R664");
    </script>
    <!-- End Google Tag Manager -->
</head>

<psk-page title="data-for attribute">
    <!-- Google Tag Manager (noscript) -->
    <noscript
        ><iframe
            src="https://www.googletagmanager.com/ns.html?id=GTM-NW4R664"
            height="0"
            width="0"
            style="display: none; visibility: hidden"
        ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <psk-toc title="Table of contents"></psk-toc>

    <psk-description title="Summary">
        <p>This attribute is used to render multiple form sections or components based on a template and a model.</p>
        <p>
            The model is declared in the controller and this will be responsible for two-way binding. The model
            should be written as a JavaScript array.
        </p>
        <p>
            The template is written between start and end tag of the component that the <code>data-if</code> attribute
            is applied on. Everything written inside this, will be treated as a template for the model.
        </p>
        <p>
            So, for each item in the model, an instance of the template will be created and it will be filled with the
            information from the model.
        </p>

        <p>The general use of <code>data-for</code> is the following:</p>
        <!-- prettier-ignore -->
        <psk-code language="markup">
                <div data-for="@array">
                    CONTENT
                </div>
            </psk-code>
    </psk-description>

    <psk-chapter title="Examples">
        <psk-chapter title="Model example">
            <!-- prettier-ignore -->
            <psk-code language="Javascript" class="small-size">
                {
                    entities: [
                        {
                            sectionTitle: {
                                label: "Your personal information",
                            },
                            name: {
                                label: "Name",
                                name: "name",
                                required: true,
                                placeholder: "Name here...",
                                value: "",
                            },
                            email: {
                                label: "Email address",
                                name: "email",
                                required: true,
                                placeholder: "Email address here...",
                                value: "",
                            },
                        },
                        {
                            sectionTitle: {
                                label: "Your associate personal information",
                            },
                            name: {
                                label: "Associate Name",
                                name: "name",
                                required: true,
                                placeholder: "Name here...",
                                value: "",
                            },
                            email: {
                                label: "Associate email address",
                                name: "email",
                                required: true,
                                placeholder: "Email address here...",
                                value: "",
                            },
                        },
                    ];
                }                
            </psk-code>
        </psk-chapter>

        <psk-chapter title="Template example">
            <!-- prettier-ignore -->
            <psk-code language="markup">
                <webc-container controller="webcardinal/examples/DataForController">
                    <div data-for="@entities">
                        <psk-layout columns="1">
                            <psk-layout columns="2">
                                <label data-view-model="@sectionTitle"></label>
                            </psk-layout>
                            
                            <psk-layout columns="2">
                                <input data-view-model="@name"/>
                                <input data-view-model="@email"/>
                            </psk-layout>
                            
                        </psk-layout>
                        <psk-card slot="no-data" title="Slot 'no-data' example">
                            <p>A psk-card with slot="no-data" for the data-for example!</p>
                        </psk-card>
                    </div>
                    <button data-tag="submit-for">Submit</button>
                </webc-container>
            </psk-code>
        </psk-chapter>

        <psk-chapter title="Visual example using above model & template">
            <psk-example class="app-example">
                <webc-container controller="webcardinal/examples/DataForController">
                    <div data-for="@entities">
                        <psk-layout columns="2">
                            <label data-view-model="@sectionTitle"></label>
                        </psk-layout>

                        <psk-layout columns="2">
                            <input data-view-model="@name" />
                            <input data-view-model="@email" />
                        </psk-layout>

                        <psk-card slot="no-data" title="Slot 'no-data' example">
                            <p>A psk-card with slot="no-data" for the data-for example!</p>
                        </psk-card>
                    </div>
                    <button data-tag="submit-for">Submit</button>
                </webc-container>
            </psk-example>
        </psk-chapter>

        <psk-highlight type-of-highlight="example">
            In case the model is empty <code>data-for</code> will render the slot="no-data" child element.
        </psk-highlight>
        <psk-highlight type-of-highlight="example"> Here is a visual exemple with entities=[]: </psk-highlight>

        <psk-chapter title="Visual example using an empty model & template">
            <psk-example class="app-example">
                <webc-container controller="webcardinal/examples/DataForController">
                    <div data-for="@noEntities">
                        <psk-layout columns="2">
                            <label data-view-model="@sectionTitle"></label>
                        </psk-layout>

                        <psk-layout columns="2">
                            <input data-view-model="@name" />
                            <input data-view-model="@email" />
                        </psk-layout>

                        <psk-card slot="no-data" title="Slot 'no-data' example">
                            <p>A psk-card with slot="no-data" for the data-for example!</p>
                        </psk-card>
                    </div>
                    <button data-tag="submit-for">Submit</button>
                </webc-container>
            </psk-example>
        </psk-chapter>
    </psk-chapter>
</psk-page>
